import { Appear, Notes } from 'mdx-deck';
import { Split } from 'mdx-deck/layouts';

import {
  Code,
  CodeSurferLayout,
  CodeSurferColumnLayout,
  Step,
} from 'code-surfer';

import { inlineCodeStyle } from '../helper';

## Praxis
### Einleitung

<Notes>
  Hallo
</Notes>

---

<Appear>

`$ npm -g i create-react-app`

`$ npx create-react-app myApp`

`$ cd myApp`

</Appear>

---

<CodeSurferLayout>

```html
.
â”œâ”€â”€ node_modules/
â”œâ”€â”€ public/
â”œâ”€â”€ src/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

```
.
â”œâ”€â”€ node_modules/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ (...)
â”œâ”€â”€ src/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

```
.
â”œâ”€â”€ node_modules/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ (...)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.js
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ (...)
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

</CodeSurferLayout>

---


<CodeSurferLayout>

```jsx
// src/index.js
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import * as serviceWorker from './serviceWorker';

ReactDOM.render(<App />, document.getElementById('root'));

// If you want your app to work offline and load faster, you can change
// unregister() to register() below. Note this comes with some pitfalls.
// Learn more about service workers: https://bit.ly/CRA-PWA
serviceWorker.unregister();
```

```jsx 2:3,5,8
// src/index.js
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import * as serviceWorker from './serviceWorker';

ReactDOM.render(<App />, document.getElementById('root'));

// If you want your app to work offline and load faster, you can change
// unregister() to register() below. Note this comes with some pitfalls.
// Learn more about service workers: https://bit.ly/CRA-PWA
serviceWorker.unregister();
```

</CodeSurferLayout>

---

<CodeSurferLayout>

```jsx 1:2,5:27
// src/App.js
import React from 'react';
import logo from './logo.svg';
import './App.css';

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>
          Edit <code>src/App.js</code> and save to reload.
        </p>
        <a
          className="App-link"
          href="https://reactjs.org"
          target="_blank"
          rel="noopener noreferrer"
        >
          Learn React
        </a>
      </header>
    </div>
  );
}

export default App;
```

```jsx
// src/App.js
import React from 'react';
import './App.css';

function App() {
  return (
    <div>
      <header>
        <h1>Issue Tracker</h1>
      </header>
      <h2>Projects</h2>
      <ul>
        <li>Foo</li>
        <li>Bar</li>
        <li>Baz</li>
      </ul>
    </div>
  );
}

export default App;
```

</CodeSurferLayout>

---

## Exercise Time

<Appear>

### Woohoo ðŸ˜Ž

</Appear>

---

## Aufgaben

### Layout

<Appear>

Header soll in die `Layout` Component ausgelagert werden

Component erhÃ¤lt den Inhalt, den sie umschlieÃŸen soll

</Appear>

---

## Aufgaben

### Projekt Ãœbersicht

<Appear>

Component erhÃ¤lt eine Liste von Projekten, die sie darstellen soll

Ein Projekt beihnaltet vorerst folgende Eigenschaften:

ID, Titel und Beschreibung

</Appear>

---

<CodeSurferLayout>

```jsx
// src/components/Layout/Layout.js
import React from 'react';

const Layout = () => (
  <div className="layout">
    <header>
      <h1>Issue Tracker</h1>
    </header>
  </div>
);

export default Layout;
```

```jsx
// src/components/Layout/Layout.js
import React from 'react';

const Layout = ({ children }) => (
  <div className="layout">
    <header>
      <h1>Issue Tracker</h1>
    </header>
    {children}
  </div>
);

export default Layout;
```

```css 2:4
// src/components/Layout/Layout.css
.layout {
  margin: 20px 5vw 0;
}
```

```jsx
// src/components/Layout/Layout.js
import React from 'react';

const Layout = ({ children }) => (
  <div className="layout">
    <header>
      <h1>Issue Tracker</h1>
    </header>
    {children}
  </div>
);

export default Layout;
```

```jsx
// src/components/Layout/Layout.js
import React from 'react';
import './Layout.css';

const Layout = ({ children }) => (
  <div className="layout">
    <header>
      <h1>Issue Tracker</h1>
    </header>
    {children}
  </div>
);

export default Layout;
```

```js
// src/components/Layout/index.js
export { default } from './Layout';
```

</CodeSurferLayout>

---

<CodeSurferLayout>

```jsx
// src/App.js
import React from 'react';
import './App.css';

function App() {
  return (
    <div>
      <header>
        <h1>Issue Tracker</h1>
      </header>
      <h2>Projects</h2>
      <ul>
        <li>Foo</li>
        <li>Bar</li>
        <li>Baz</li>
      </ul>
    </div>
  );
}

export default App;
```

```jsx
// src/App.js
import React from 'react';
import './App.css';

import Layout from './components/Layout';

function App() {
  return (
    <Layout>
      <h2>Projects</h2>
      <ul>
        <li>Foo</li>
        <li>Bar</li>
        <li>Baz</li>
      </ul>
    </Layout>
  );
}

export default App;
```

</CodeSurferLayout>

---

<CodeSurferLayout>

```jsx
// src/components/ProjectOverview/ProjectOverview.js
import React from 'react';

const ProjectOverview = () => (
  <div className="project-overview__container">
  </div>
);

export default ProjectOverview;
```

```jsx
// src/components/ProjectOverview/ProjectOverview.js
import React from 'react';

const ProjectOverview = ({ projects }) => ( 
  <div className="project-overview__container">
    {projects.map(project => (
      <article key={project.id} className="project-overview__item">
        <h3>{project.title}</h3>
        <p>{project.description}</p>
      </article>
    ))}
  </div>
);

export default ProjectOverview;
```

```css
// src/components/ProjectOverview/ProjectOverview.css
.project-overview__container {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
} 
 
.project-overview__item {
  background-color: #dedede;
  margin: 15px;
  padding: 0 15px 15px;
  flex-basis: 250px;
}
```

```jsx
// src/components/ProjectOverview/ProjectOverview.js
import React from 'react';

const ProjectOverview = ({ projects }) => ( 
  <div className="project-overview__container">
    {projects.map(project => (
      <article key={project.id} className="project-overview__item">
        <h3>{project.title}</h3>
        <p>{project.description}</p>
      </article>
    ))}
  </div>
);

export default ProjectOverview; 
```

```jsx
// src/components/ProjectOverview/ProjectOverview.js
import React from 'react';
import './ProjectOverview.css';

const ProjectOverview = ({ projects }) => ( 
  <div className="project-overview__container">
    {projects.map(project => (
      <article key={project.id} className="project-overview__item">
        <h3>{project.title}</h3>
        <p>{project.description}</p>
      </article>
    ))}
  </div>
);

export default ProjectOverview; 
```

```js
// src/components/ProjectOverview/index.js
export { default } from './ProjectOverview';
```

</CodeSurferLayout>

---

<CodeSurferLayout>

```jsx
// src/App.js
import React from 'react';
import './App.css';

import Layout from './components/Layout';

function App() {
  return (
    <Layout>
      <h2>Projects</h2>
      <ul>
        <li>Foo</li>
        <li>Bar</li>
        <li>Baz</li>
      </ul>
    </Layout>
  );
}

export default App;
```

```jsx
// src/App.js
import React from 'react';
import './App.css';

import Layout from './components/Layout';
import ProjectOverview from './components/ProjectOverview';

function App() {
  return (
    <Layout>
      <h2>Projects</h2>
      <ProjectOverview
        projects={[]}
      />
    </Layout>
  );
}

export default App;
```

```jsx 3,8:14,20:22
// src/App.js
import React from 'react';
import faker from 'faker';

import './App.css';

import Layout from './components/Layout';
import ProjectOverview from './components/ProjectOverview';

const projects = Array.from({ length: 7 }, () => ({
  id: faker.random.uuid(),
  title: faker.company.companyName(),
  description: faker.lorem.paragraph(),
}));

function App() {
  return (
    <Layout>
      <h2>Projects</h2>
      <ProjectOverview
        projects={[]}
      />
    </Layout>
  );
}

export default App;
```

```jsx 10:14,20:22
// src/App.js
import React from 'react';
import faker from 'faker';

import './App.css';

import Layout from './components/Layout';
import ProjectOverview from './components/ProjectOverview';

const projects = Array.from({ length: 7 }, () => ({
  id: faker.random.uuid(),
  title: faker.company.companyName(),
  description: faker.lorem.paragraph(),
}));

function App() {
  return (
    <Layout>
      <h2>Projects</h2>
      <ProjectOverview
        projects={projects}
      />
    </Layout>
  );
}

export default App;
```

```jsx 1:27
// src/App.js
import React from 'react';
import faker from 'faker';

import './App.css';

import Layout from './components/Layout';
import ProjectOverview from './components/ProjectOverview';

const projects = Array.from({ length: 7 }, () => ({
  id: faker.random.uuid(),
  title: faker.company.companyName(),
  description: faker.lorem.paragraph(),
}));

function App() {
  return (
    <Layout>
      <h2>Projects</h2>
      <ProjectOverview
        projects={projects}
      />
    </Layout>
  );
}

export default App;
```

</CodeSurferLayout>

---

## Component Lifecycle

---

### Mounting

- constructor
- render
- componentDidMount

---

### Updating

- shouldComponentUpdate
- render
- componentDidUpdate

---

### Unmounting

- componentWillUnmount

---

## State

---

### Unterschiede zwsichen<br/>Props und State

<Split>

<Appear>

<li>
  Props sind statisch
</li>

<li>
  werden bei Initialisierung Ã¼bergeben
</li>

<li>
  Props werden nach der Ãœbergabe nicht verÃ¤ndert<br/>
  &nbsp;
</li>

</Appear>

<Appear>

<li>
  State ist dynamisch
</li>

<li>
  wird im <code style={inlineCodeStyle}>constructor</code> initialisiert
</li>

<li>
  kann an unterschiedlichen Stellen verÃ¤ndert werden<br/>
  z.B. <code style={inlineCodeStyle}>componentDidMount</code>
</li>

</Appear>

</Split>

---

### State Manual

<Appear>

<li>
  eigent sich fÃ¼r Variablen,<br/>
  die sich wÃ¤hrend der Laufzeit einer Component Ã¤ndern
</li>

<li>
  um Ã¤nderbaren Inhalt zu steuern
</li>

<li>
  kann durch <code style={inlineCodeStyle}>this.setState()</code> verÃ¤nedert werden
</li>

</Appear>

---

<CodeSurferLayout>

```js
this.setState({ foo: 'bar' });
```

```js
this.setState(({ counter }) => ({
  counter: counter + 1,
}));
```

</CodeSurferLayout>

---

<CodeSurferLayout>

```jsx
// Quotes.js
import React from 'react';

class Quotes extends React.Component {
}

export default Quotes;
```

```jsx
// Quotes.js
import React from 'react';

class Quotes extends React.Component {
  render() {
    return <p></p>;
  }
}

export default Quotes;
```

```jsx
// Quotes.js
import React from 'react';

class Quotes extends React.Component {
  constructor(props) {
    super(props);

    this.state = {
      current: 0,
      quotes: [
        'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Mollitia, eum?',
        'Nostrum, natus a. Repellat est dolor id error delectus molestias.',
        'Nemo doloribus totam inventore commodi at cupiditate amet modi quia.',
        'Quisquam ut a ea dignissimos dolorem magni harum hic voluptatibus!',
        'Enim eaque quis amet autem error ipsa, exercitationem dignissimos tenetur?',
      ],
    };
  }

  render() {
    const { current, quotes } = this.state;
    return <p>{quotes[current]}</p>;
  }
}

export default Quotes;
```

```jsx
// Quotes.js
import React from 'react';

class Quotes extends React.Component {
  constructor(props) {
    super(props);

    this.state = {
      current: 0,
      quotes: [
        'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Mollitia, eum?',
        'Nostrum, natus a. Repellat est dolor id error delectus molestias.',
        'Nemo doloribus totam inventore commodi at cupiditate amet modi quia.',
        'Quisquam ut a ea dignissimos dolorem magni harum hic voluptatibus!',
        'Enim eaque quis amet autem error ipsa, exercitationem dignissimos tenetur?',
      ],
    };
  }

  componentDidMount() {
    this.timer = setInterval(() => {
      const { quotes } = this.state;
      const next = this.state.current + 1;
      this.setState({
        current: quotes[next] ? next : 0,
      });
    }, 1500);
  }

  componentWillUnmount() {
    clearInterval(this.timer);
  }

  render() {
    const { current, quotes } = this.state;
    return <p>{quotes[current]}</p>;
  }
}

export default Quotes;
```

</CodeSurferLayout>

---

<CodeSurferLayout>

<Code lang="jsx" code={require('!raw-loader!./examples/state/Quotes').default} />
<Code lang="jsx" code={require('!raw-loader!./examples/state/Quotes.1').default} />

</CodeSurferLayout>

---

<CodeSurferColumnLayout>

<Step>
<Code lang="jsx" code={require('!raw-loader!./examples/state/Quotes.1').default} />
{(require('./render/state/Quotes.1').default())}
</Step>

</CodeSurferColumnLayout>
